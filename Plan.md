# План автоматизации 
## 1. Перечень автоматизируемых сценариев 

### 1.1 Оплата по дебетовой карте - успешная операция
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты: 
Номер карты - 4444 4444 4444 4441  
Месяц - 02  
Год - 22 (указать будущий год)  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
Выполнить запрос в БД для проверки статуса операции.  
  
**Ожидаемый результат**: Запрос с данными отправлен в банк.  
На странице в браузере появилась информация об успешном статусе оплаты.  
В БД найдена запись об успешном статусе операции.  

### 1.2 Оплата по дебетовой карте - неуспешная операция вариант 1  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4442  
Месяц - 02  
Год - 22  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
Выполнить запрос в БД для проверки статуса операции.  
  
**Ожидаемый результат**: Запрос с данными отправлен в банк.  
На странице в браузере появилась информация о неуспешном статусе оплаты.  
В БД найдена запись о неуспешном статусе операции.  
  
### 1.3 Оплата по дебетовой карте - неуспешная операция вариант 2  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 1111 1111 1111 1111 (несуществующая карта)  
Месяц - 02  
Год - 22  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
Выполнить запрос в БД для проверки статуса операции.  
  
**Ожидаемый результат**: Запрос не отправлен.  
На странице в браузере появилась информация об ошибке  
В БД не найдена запись о статусе операции.  
  
### 1.4 Оплата в кредит - успешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить в кредит"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 02  
Год - 22 (указать будущий год)  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
Выполнить запрос в БД для проверки статуса операции.  
  
**Ожидаемый результат**: Запрос с данными отправлен в банк.  
На странице в браузере появилась информация об успешном статусе оплаты.  
В БД найдена запись об успешном статусе операции.  
  
### 1.5 Оплата в кредит - неуспешная операция вариант 1  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить в кредит"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4442  
Месяц - 02  
Год - 23  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
Выполнить запрос в БД для проверки статуса операции.  
  
**Ожидаемый результат**: Запрос с данными отправлен в банк.  
На странице в браузере появилась информация о неуспешном статусе оплаты.  
В БД найдена запись о неуспешном статусе операции.  
  
### 1.6 Оплата в кредит - неуспешная операция вариант 2  
**Шаги**  
Открыть страницу приложения   
Выбрать опцию "Купить в кредит"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 1111 1111 1111 1111 (несуществующая карта)  
Месяц - 02  
Год - 23  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
Выполнить запрос в БД для проверки статуса операции.  
  
**Ожидаемый результат**: Запрос не отправлен.  
На странице в браузере появилась информация об ошибке.  
В БД не найдена запись о статусе операции.  
  
### 1.7 Отправка пустой формы  - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" не вводить данные для оплаты:  
Номер карты  
Месяц  
Год  
Владелец  
CVC  
Нажать "Продолжить" 
  
**Ожидаемый результат**:  Запрос не отправлен.  
На странице в браузере обязательные для заполнения поля подсвечены красным цветом  
  
### 1.8 Ввод невалидного номера карты - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4441  
Месяц - 02  
Год - 23  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен.  
На странице в браузере поле "Номер карты" подсвечено красным "Неверный формат"  
  
### 1.9 Ввод невалидного месяца вариант 1 - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 00  
Год - 23  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен  
На странице в браузере поле "Месяц" подсвечено красным "Неверный формат"  
  
### 1.10 Ввод невалидного месяца вариант 2 - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 13  
Год - 23  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен  
На странице в браузере поле "Месяц" подсвечено красным "Неверный формат"  
  
### 1.11 Ввод неактуального месяца и года вариант 1 - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 04 (указать текущий месяц)  
Год - 20 (указать последние 2 цифры года меньше текущего)  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен  
На странице в браузере поле "Год" подсвечено красным "Указана дата в прошлом"  
  
### 1.12 Ввод неактуального месяца и года вариант 2 - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 03 (указать прошлый месяц)  
Год - 21 (указать текущий год)  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен  
На странице в браузере поле "Год" подсвечено красным "Указана дата в прошлом"  
  
### 1.13 Ввод текущего месяца и года - успешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 02 (указать текущий месяц)  
Год - 21 (указать текущий год)  
Владелец - Anna Belousova  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос отправлен  
На странице в браузере появилась информация об успешном статусе оплаты.  
  
### 1.14 Ввод невалидного владельца - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 02  
Год - 23  
Владелец - Анна Белоусова (на кириллице)  
CVC - 990  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен   
На странице в браузере поле "Владелец" подсвечено красным "Неверный формат"  
  
### 1.15 Ввод невалидного CVC - неуспешная операция  
**Шаги**  
Открыть страницу приложения  
Выбрать опцию "Купить"  
В открывшемся разделе "Оплата по карте" ввести данные для оплаты:  
Номер карты - 4444 4444 4444 4441  
Месяц - 02  
Год - 23  
Владелец - Anna Belousova  
CVC - 99  
Нажать "Продолжить"  
  
**Ожидаемый результат**: Запрос не отправлен  
На странице в браузере поле "CVC" подсвечено красным "Неверный формат"  


## 2. Перечень используемых инструментов с обоснованием выбора

**Java 11**
Преимущества:
* кросс-платформенная совместимость (независимость от ОС)
* поддержка ООП
* безопасность и производительность

**JUnit 5**
Преимущества:
* независимость тестов от основного кода
* большой выбор аннотаций для удобства написания и запуска автотестов
* возможность создавать параметризованные тесты

**библиотека Faker**
Преимущества:
* возможность генерации случайных данных с заданными параметрами

**Selenide**
Преимущества:
* простая конфигурация
* лаконичный синтаксис, по сравнению с selenuim
* автоматическое управление браузером

**Allure**
Преимущества:
* легкость настройки и подключения
* прозрачность информации - понятно, насколько автотесты соответствуют ручным тестам, какие именно проверки покрыты автотестами
* наглядные отчеты со скриншотами выполняемых действий


## 3. Перечень и описание возможных рисков при автоматизации
- отсутствие документации к сервису, отсутствие описания структуры БД, не указаны ограничения
- вследствие п.1 возможно изменение/расширение тестовой модели в процессе тестирования
- дополнительные сложности в реализации, т.к. требуется одновременная поддержка двух БД - MySQL и Postgress
- в описании задачи отсутствует перечисление браузеров и их версий, в которых необходимо выполнить проверку, выбор браузеров остается за тестировщиком
- инфраструктурные проблемы - разворачивание БД, настройка Docker, запуск SUT


## 4. Интервальная оценка с учётом рисков (в часах)
без рисков: 49 часов
- 40 часов на создание и отладку тестов
- 4 часа на настройку инфраструктуры 
- 5 часов на отчетность

с рисками: 64 часа
- 50 часов на создание и отладку тестов
- 6 часов на настройку инфраструктуры 
- 8 часов на отчетность

## 5. План сдачи работ
Готовность автотестов - 30.04
Завершение прогона автотестов - 04.05
Отчет по автоматизации - 07.05
